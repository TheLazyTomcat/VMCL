Function Vector_Convert({%H-}AutoTest: Boolean = False): Integer;
var
  v2s:  TVector2s;  v2sr: TVector2sr;
  v3s:  TVector3s;  v3sr: TVector3sr;
  v4s:  TVector4s;  v4sr: TVector4sr;
  v2d:  TVector2d;  v2dr: TVector2dr;
  v3d:  TVector3d;  v3dr: TVector3dr;
  v4d:  TVector4d;  v4dr: TVector4dr;
  PosV: Boolean;
begin
WriteLn;
WriteLn(LineText('Vector conversions'));
WriteLn;
RandomVec(v2s); RandomVec(v3s); RandomVec(v4s);
RandomVec(v2d); RandomVec(v3d); RandomVec(v4d);
RandomVec(v2sr); RandomVec(v3sr); RandomVec(v4sr);
RandomVec(v2dr); RandomVec(v3dr); RandomVec(v4dr);
WriteLn('Higher to lower dimension:');
WriteLn; WriteLn('  v3s -> v2s: ' + VecToStr(v3s) + ' -> ' + VecToStr(Vector2s(v3s)));
WriteLn; WriteLn('  v4s -> v2s: ' + VecToStr(v4s) + ' -> ' + VecToStr(Vector2s(v4s)));
WriteLn; WriteLn('  v4s -> v3s: ' + VecToStr(v4s) + ' -> ' + VecToStr(Vector3s(v4s)));
WriteLn; WriteLn('  v3d -> v2d: ' + VecToStr(v3d) + ' -> ' + VecToStr(Vector2d(v3d)));
WriteLn; WriteLn('  v4d -> v2d: ' + VecToStr(v4d) + ' -> ' + VecToStr(Vector2d(v4d)));
WriteLn; WriteLn('  v4d -> v3d: ' + VecToStr(v4d) + ' -> ' + VecToStr(Vector3d(v4d)));
WriteLn;
WriteLn('Lower to higher dimension:');
WriteLn; WriteLn('  v2s -> v3s: ' + VecToStr(v2s) + ' -> ' + VecToStr(Vector3s(v2s)));
PosV := Random(2) = 0;
WriteLn; WriteLn('  v2s -> v4s: ' + VecToStr(v2s) + '(posv: ' + BoolToStr(PosV,True) + ') -> ' + VecToStr(Vector4s(v2s,PosV)));
PosV := Random(2) = 0;
WriteLn; WriteLn('  v3s -> v4s: ' + VecToStr(v3s) + '(posv: ' + BoolToStr(PosV,True) + ') -> ' + VecToStr(Vector4s(v3s,PosV)));
WriteLn; WriteLn('  v2d -> v3d: ' + VecToStr(v2d) + ' -> ' + VecToStr(Vector3d(v2d)));
PosV := Random(2) = 0;
WriteLn; WriteLn('  v2d -> v4d: ' + VecToStr(v2d) + '(posv: ' + BoolToStr(PosV,True) + ') -> ' + VecToStr(Vector4d(v2d,PosV)));
PosV := Random(2) = 0;
WriteLn; WriteLn('  v3d -> v4d: ' + VecToStr(v3d) + '(posv: ' + BoolToStr(PosV,True) + ') -> ' + VecToStr(Vector4d(v3d,PosV)));
WriteLn;
WriteLn('Array type to record type:');
WriteLn; WriteLn('  v2s -> v2sr: ' + VecToStr(v2s) + ' -> ' + VecToStr(Vector2sr(v2s)));
WriteLn; WriteLn('  v3s -> v3sr: ' + VecToStr(v3s) + ' -> ' + VecToStr(Vector3sr(v3s)));
WriteLn; WriteLn('  v4s -> v4sr: ' + VecToStr(v4s) + ' -> ' + VecToStr(Vector4sr(v4s)));
WriteLn; WriteLn('  v2d -> v2dr: ' + VecToStr(v2d) + ' -> ' + VecToStr(Vector2dr(v2d)));
WriteLn; WriteLn('  v3d -> v3dr: ' + VecToStr(v3d) + ' -> ' + VecToStr(Vector3dr(v3d)));
WriteLn; WriteLn('  v4d -> v4dr: ' + VecToStr(v4d) + ' -> ' + VecToStr(Vector4dr(v4d)));
WriteLn;
WriteLn('Record type to array type:');
WriteLn; WriteLn('  v2sr -> v2s: ' + VecToStr(v2sr) + ' -> ' + VecToStr(Vector2s(v2sr)));
WriteLn; WriteLn('  v3sr -> v3s: ' + VecToStr(v3sr) + ' -> ' + VecToStr(Vector3s(v3sr)));
WriteLn; WriteLn('  v4sr -> v4s: ' + VecToStr(v4sr) + ' -> ' + VecToStr(Vector4s(v4sr)));
WriteLn; WriteLn('  v2dr -> v2d: ' + VecToStr(v2dr) + ' -> ' + VecToStr(Vector2d(v2dr)));
WriteLn; WriteLn('  v3dr -> v3d: ' + VecToStr(v3dr) + ' -> ' + VecToStr(Vector3d(v3dr)));
WriteLn; WriteLn('  v4dr -> v4d: ' + VecToStr(v4dr) + ' -> ' + VecToStr(Vector4d(v4dr)));
WriteLn;
WriteLn('Precision conversion (array type):');
WriteLn; WriteLn('  v2s -> v2d: ' + VecToStr(v2s) + ' -> ' + VecToStr(Vector2d(v2s)));
WriteLn; WriteLn('  v3s -> v3d: ' + VecToStr(v3s) + ' -> ' + VecToStr(Vector3d(v3s)));
WriteLn; WriteLn('  v4s -> v4d: ' + VecToStr(v4s) + ' -> ' + VecToStr(Vector4d(v4s)));
WriteLn; WriteLn('  v2d -> v2s: ' + VecToStr(v2d) + ' -> ' + VecToStr(Vector2s(v2d)));
WriteLn; WriteLn('  v3d -> v3s: ' + VecToStr(v3d) + ' -> ' + VecToStr(Vector3s(v3d)));
WriteLn; WriteLn('  v4d -> v4s: ' + VecToStr(v4d) + ' -> ' + VecToStr(Vector4s(v4d)));
WriteLn;
WriteLn('Precision conversion (record type):');
WriteLn; WriteLn('  v2sr -> v2dr: ' + VecToStr(v2sr) + ' -> ' + VecToStr(Vector2dr(v2sr)));
WriteLn; WriteLn('  v3sr -> v3dr: ' + VecToStr(v3sr) + ' -> ' + VecToStr(Vector3dr(v3sr)));
WriteLn; WriteLn('  v4sr -> v4dr: ' + VecToStr(v4sr) + ' -> ' + VecToStr(Vector4dr(v4sr)));
WriteLn; WriteLn('  v2dr -> v2sr: ' + VecToStr(v2dr) + ' -> ' + VecToStr(Vector2sr(v2dr)));
WriteLn; WriteLn('  v3dr -> v3sr: ' + VecToStr(v3dr) + ' -> ' + VecToStr(Vector3sr(v3dr)));
WriteLn; WriteLn('  v4dr -> v4sr: ' + VecToStr(v4dr) + ' -> ' + VecToStr(Vector4sr(v4dr)));
Result := 0;
end;
