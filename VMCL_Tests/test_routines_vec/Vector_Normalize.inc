Function Vector_Normalize(AutoTest: Boolean = False): Integer;
var
  v2s:  TVMCLVector2s;
  v3s:  TVMCLVector3s;
  v4s:  TVMCLVector4s;
  v2d:  TVMCLVector2d;
  v3d:  TVMCLVector3d;
  v4d:  TVMCLVector4d;
  LFS:  TVMCLVectorFormat;
begin
LFS := VMCL_DefaultVectorFormat;
LFS.CommonFormat.ValueFormat.DecimalPlaces := 3;
WriteLn;
WriteLn(LineText('Normalize'));
RandomVec(v2s); RandomVec(v3s); RandomVec(v4s);
RandomVec(v2d); RandomVec(v3d); RandomVec(v4d);
WriteLn;
Write('XY(s):   ' + VecToStr(v2s) + ' -> '); Normalize(v2s[0],v2s[1]);
WriteLn(VecToStr(v2s,LFS) + Format(' (%f)',[Magnitude(v2s)]));
WriteLn;
Write('XYZ(s):  ' + VecToStr(v3s) + ' -> '); Normalize(v3s[0],v3s[1],v3s[2]);
WriteLn(VecToStr(v3s,LFS) + Format(' (%f)',[Magnitude(v3s)]));
WriteLn;
Write('XYZW(s): ' + VecToStr(v4s) + ' -> '); Normalize(v4s[0],v4s[1],v4s[2],v4s[3]);
WriteLn(VecToStr(v4s,LFS) + Format(' (%f)',[Magnitude(v4s)]));
WriteLn;
Write('XY(d):   ' + VecToStr(v2d) + ' -> '); Normalize(v2d[0],v2d[1]);
WriteLn(VecToStr(v2d,LFS) + Format(' (%f)',[Magnitude(v2d)]));
WriteLn;
Write('XYZ(d):  ' + VecToStr(v3d) + ' -> '); Normalize(v3d[0],v3d[1],v3d[2]);
WriteLn(VecToStr(v3d,LFS) + Format(' (%f)',[Magnitude(v3d)]));
WriteLn;
Write('XYZW(d): ' + VecToStr(v4d) + ' -> '); Normalize(v4d[0],v4d[1],v4d[2],v4d[3]);
WriteLn(VecToStr(v4d,LFS) + Format(' (%f)',[Magnitude(v4d)]));
WriteLn;
RandomVec(v2s); RandomVec(v3s); RandomVec(v4s);
RandomVec(v2d); RandomVec(v3d); RandomVec(v4d);
WriteLn;
Write('v2s:      ' + VecToStr(v2s) + ' -> '); Normalize(v2s);
WriteLn(VecToStr(v2s,LFS) +  Format(' (%f)',[Magnitude(v2s)]));
WriteLn;
Write('v3s:      ' + VecToStr(v3s) + ' -> '); Normalize(v3s);
WriteLn(VecToStr(v3s,LFS) +  Format(' (%f)',[Magnitude(v3s)]));
WriteLn;
Write('v4s:      ' + VecToStr(v4s) + ' -> '); Normalize(v4s);
WriteLn(VecToStr(v4s,LFS) +  Format(' (%f)',[Magnitude(v4s)]));
RandomVec(v4s);
WriteLn;
Write('v4s(XYZ): ' + VecToStr(v4s) + ' -> '); NormalizeXYZ(v4s);
WriteLn(VecToStr(v4s,LFS) +  Format(' (%f)',[MagnitudeXYZ(v4s)]));
WriteLn;
Write('v2d:      ' + VecToStr(v2d) + ' -> '); Normalize(v2d);
WriteLn(VecToStr(v2d,LFS) +  Format(' (%f)',[Magnitude(v2d)]));
WriteLn;
Write('v3d:      ' + VecToStr(v3d) + ' -> '); Normalize(v3d);
WriteLn(VecToStr(v3d,LFS) +  Format(' (%f)',[Magnitude(v3d)]));
WriteLn;
Write('v4d:      ' + VecToStr(v4d) + ' -> '); Normalize(v4d);
WriteLn(VecToStr(v4d,LFS) +  Format(' (%f)',[Magnitude(v4d)]));
RandomVec(v4d);
WriteLn;
Write('v4d(XYZ): ' + VecToStr(v4d) + ' -> '); NormalizeXYZ(v4d);
WriteLn(VecToStr(v4d,LFS) +  Format(' (%f)',[MagnitudeXYZ(v4d)]));
Result := 0;
end;
